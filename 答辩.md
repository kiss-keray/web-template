### 第一页
    各位师兄好：我是信息平台全球服务创新的java研发实习生，很高兴在阿里实习的这两个月。我不太善于言语，后面有讲的不好的地方请各位师兄多多包涵
### 第二页
    这是我实习入职到现在一个大概工作足记。
    刚入职的一周时间都是在熟悉新环境的各位师兄和集团项目开发的各种工具
    大概一周后就接触了第一个业务需求
    后面有一次团队技术分享然后对rocketmq源码就行粗略研究。
    入职大概三周后开始了正式的业务开发
### 第三页
    这次答辩主要分了三个方面，技术分享，项目开发和心得
### 第四页
    技术分享的话主要分享的HSF和RocketMQ
### 第五页
        就HSF我的理解HSF它是一个封装性的，性能加强的，业务式的RPC框架。
        HSF具体的话，技术比较深入的目前还没有具体研究。目前的大概的理解HSF的RPC部分主要就依赖于ConfigServer，Consumer，Provider这三个大的模块
        我今天主要分享的是HSF给我们开发带来的好处和使用中发现的不足。
        HSF的好处我认为最重要的是将RPC过程对开发者透明化了，提升了开发效率和代码的可读性。
        HSF还将系统、项目解耦开，便于系统维护。
        但在我使用HSF的过程中我也发现了一个不足就是对于二方包版本的问题。比如我在项目中的二方包版本与HSF发布的版本不一致的问题，目前的话没有明确的查询地方，只能靠系统开发员之间沟通修改，效率的话比较低。还有maven中二方包的修改开发员也不能感知，这样可能导致项目构建失败甚至代码运行逻辑不一致而出现故障。
        对于这个问题我的想法是开发员通过订阅某个二方包，然后这个二方包的任何修改操作主动通知到开发员降低沟通成本。
### 第六页
        下面讲的是mateq的底层实现rocketmq的部分理解。
        就rocketmq的话，作为mq它比较突出的特点就是高可用，高吞吐，可支持消息回溯，可保证顺序消费。而且经过了淘宝双11的检验
        rocketmq相比于其他的mq的话，因为没有使用其他的MQ产品也不好直接说比较他们的差异，毕竟那都是别人测试的结果。我就是大概分享下为什么rocketmq能保证他拥有这几个突出的特点和review源码的一些理解 
        高可用，高吞吐的话我觉得主要依赖于分布式，持久化，NIO技术的支持。
        消息回溯的话是因为消息持久化到了磁盘上，只要拥有消息索引就可以完成消息的回溯。
        可顺序消费的话。这个可能讲的不准确，因为这是自己分析源码的理解。
        首先是顺序消息时消息生产方会采用另一种发布策略，将顺序消息发布到同一个服务器而不是分布负载方式发布到集群，消费端有也采用另一种Order的消费方式进行消费。这样保证了生产方，服务方，消费方的一对一关系，然后保证了一消息队列被消费端顺序的消费掉。
        就MQ的想法，我以前其实也做过类似的消息通知的项目，当时使用的消息通知是实时push到消费端进行消费。但是当我看rocketmq的push方式底层实现是pull方式时还是很疑惑的。因为自己理解的实时的push方式对于消费端来说更加的美好。因为push方式的话能使消费端完全实现一种响应式消费的模式。但是为什么rocketmq要使用pull方式而不是使用push的方式，后来问了下冯嘉师兄。他只是简单说了完全的push方式的话很多状态管理的问题没解决。
        然后我只是大概分析了下是哪几个状态不好管理，一个我觉得是消费端的在线状态，因为让服务器心跳维护这个状态会加大服务器的压力。另一个是push消费目标的选择问题，因为要维护这个消息到消费端的映射关系也比较复杂和消耗性能，而且这个映射数据的可靠性会直接影响到消息消费的可靠性。
        就目前我分析到这两个比较难维护的状态自己简单设计了一个push的模式的框架，就是将push的实现分离到一个Courier的角色上，这样使push流程与服务端分离开来。就这个架构目前还处于编码阶段，至于可行性只能等后面的测试。
### 第七页
    下面开始讲的是业务部分，在阿里实习的这两个月主要完成了3工单系统的插件需求和资产系统的日常维护。
### 第八页
        第一个是工单系统的故障管理插件，也是来阿里的第一接触的业务需求。
        这个需求的背景主要是对于事故或者说故障而引起提交批量相似工单的问题。相似工单的解决以前没有归类的操作所以只能由小二挨个处理这些工单，这样的处理方式效率比较低。业务方现在需要一个能将这些相似工单归类然后实现统一管理的功能。
        接到这个需求后和PD师兄商量了一个方案就是通过一个故障数据管理这些相似工单，就是将相似工单分配关联到一个故障下面，然后直接维护故障数据间接维护这些工单的数据。开始我想的是直接管理故障的状态同步到管理的所有关联工单。结果在与工单系统对接时发现系统间的对接不是想怎么样就怎么样的，其他系统不会为一个需求而向你提供专门的接口，只会提供通用化的接口给你。后面就放弃由故障直接管理工单的方案改为给故障选举一个主工单，在通过工单系统提供的同步接口实现主工单到关联工单的管理。最终实现了故障到关联工单的管理。这样就解决了这里的四个问题。
        目前故障管理功能还有很多可以继续优化提高这类工单的处理效率。
        后面优化一个明确的升级计划是实现故障通知，目前是没有故障通知的实现，只能由客服小二凭经验判断工单属于故障后查看故障列表找到可能的故障再去关联故障，升级后添加故障通知能让客服小二提前知道现在集团存在哪些故障，这样在小二分配到工单后能很快的判断并关联故障。
### 第九页
        目前故障插件已经上线一个月左右，他带来的业务价值使用了上周由业务方提供的一组数据。上周为止故障管理已经关联工单926单，如果这926单在以前需要由小二关闭926次，而在故障管理里面小二只关闭了45次就完成了926个工单的完结。
        926个工单的处理在故障管理里面比以前节约了1800多分钟的工时，还节约了一个故障期间人力的统计与协调，降低了3%的呼损率，给9点电台带来了problem记录功能，极大的提高了problem的数据准确性。
        除了这些显式的价值之外，其实我觉得还有隐藏的价值。就是通过故障的统计可以发现一些集团存在的问题。目前没有明确的例证。
        就在第一次业务遇到的问题和理解。
        遇到的问题的话服务端基本没大问题，只是在与工单系统对接时遇到了沟通问题，因为第一次做系统对接开发，不太熟悉流程和方式，导致了中间沟通接口花了近一周的时间。前端的实现遇到的问题比较大，因为以前完全没接触过react，所以在前端实现上花了比较多的时间，还请教了好几位其他部门的前端师兄最后才完成了。
        理解的话最大的理解就是业务价值。在刚开始设计故障管解决方案时我就提出过自动识别工单关联到故障。但是当时和业务方沟通时业务方说目前故障一周可能就两三起，不用识别。但就上线一个月的数据来看，同时存在的故障基本都在10起左右，多是达到了20起左右，小二关联故障时找故障，关联故障效率不太高。就这个问题业务方也一起提需求了，我现在也设计故障管理的升级方案
        升级方案大概的方案是一阶段根据工单内容进行故障匹配排序与高亮，能使小二和很快发现工单属于的故障并关联，二阶段升级才实现工单自动关联到故障，因为自动关联的话实现难度还是比较高。
### 第十页
        第二次的业务需求的话比较简单。
        业务背景是对于和资产相关的工单处理问题。因为新的工单系统中没有统计提单用户资产数据的功能，对于这些工单处理小二只能切换到老的工单系统对这些工单进行处理。这样客服小二就需要一直打开两个工单系统进行服务。这样的方式对于小二来说明显很不方便。现在的需求就是将老工单系统的管理资产的功能迁移到新的工单系统中，这样客服小二就只需要使用一个新工单系统就能完成服务。
        业务的解决方案的话就只有数据获取，展示与url跳转。实现起来比较简单。
        业务价值的话应该就是对于小二来说现在不需要同时打开两个工单系统服务比较方便，而且老的工单系统在逐步下线，功能迁移也是必然。
### 第十一页
        社招业务接入的话，我只负责的插件前端的实现。后端实现是师兄完成的。
        业务背景主要是现在对于集团社招类问题没有系统支持，对于社招的信息记录只能靠热线小二手动excel记录，效率低，错误率高。现在需要工单系统提供社招业务的支持。
        解决方案（待定）
        对于社招业务接入的价值，虽然目前业务还没有正式上线，但可以预测到社招业务的接入将极大的提高热线小二的服务效率，降低信息错误率。
### 第十二页
        近半个月的话我转到了老资产系统的维护那里。由于老资产系统的问题，现在有部分数据可能会出现错误，这些错误的修正只能去线上修改数据库，线上修改数据库比较麻烦，而且我没有权限。所以我对几个表添加了修改接口简化了数据维护工作。
        后面还有资产任务单查询的问题，以前查询时对于离职单，入职单的查询需要单独选着，而且查询不支持任务单号查询。我完成的就是对于通用查询接口实现离职单，入职单的查询，还实现了直接根据任务单号，姓名，花名，工号的查询。
        对于这个入职天资产任务检查的需求，是我自己提出的。因为有天师兄让我去学习下入职天资产任务检查，结果我发现就是去线上查询数据库看看相关数据是否正常。我觉得去线上sql查询比较麻烦，数据多了时也容易看走眼，而且我还没权限查询。我就直接在系统中添加了一个一键检查的接口，在入职天调用直接获得查询结果。这样使检查工作更方便，检查结果更准确。
        目前这个检查还是要我们在入职天自己去调用接口获得检查结果，后面打算的实现在入职天系统自动去检查，然后通过钉钉和邮件通知给相关配置的人员。这样我们就可以完全不关心入职天的检查任务。
### 第十三页
        下面讲的是我实习两个月中的一些心得体会
### 第十四页
        谢谢
